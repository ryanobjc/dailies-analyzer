#+title: Dailies Analyzer
#+author: Ryan

Analyze org-mode/gptel chat history for statistics and LLM-extracted insights.

* Quick Start (for exported databases)

If you received an =export.db= file, you can browse insights without any API keys:

#+begin_src bash
# Install
mise install uv && mise use uv
uv venv --python python3 && source .venv/bin/activate
uv pip install -e .

# Browse insights
dailies --db /path/to/export.db insights
dailies --db /path/to/export.db insights --category wisdom
dailies --db /path/to/export.db insights --tag kubernetes
dailies --db /path/to/export.db insight 123          # view specific insight
dailies --db /path/to/export.db random               # random insight

# Browse by conversation
dailies --db /path/to/export.db deep                 # deepest conversations
dailies --db /path/to/export.db conversation 525     # view conversation metadata

# Browse tags
dailies --db /path/to/export.db tags
#+end_src

Note: Exported databases contain insights and statistics but not message content (for privacy).

* Installation

Requires Python 3.11+ and =uv=. Install =uv= via mise:

#+begin_src bash
mise install uv
mise use uv
#+end_src

Create venv and install:

#+begin_src bash
uv venv --python python3
source .venv/bin/activate
uv pip install -e .
#+end_src

* Setup

Set your Anthropic API key for insight extraction:

#+begin_src bash
export ANTHROPIC_API_KEY="sk-ant-..."
#+end_src

* Usage

** Ingest your dailies

#+begin_src bash
dailies ingest ~/Documents/org-roam/daily
#+end_src

Use =--clear= to wipe and re-import:

#+begin_src bash
dailies ingest ~/Documents/org-roam/daily --clear
#+end_src

** View statistics

#+begin_src bash
dailies stats                    # summary
dailies stats --models           # by model
dailies stats --topics           # by topic
dailies deep                     # deepest conversations
#+end_src

** Extract insights (batch API - 50% cheaper)

#+begin_src bash
dailies batch-extract            # submit batch job
dailies batch-status             # check progress
dailies batch-results            # process when complete
#+end_src

Or use synchronous extraction (slower, costs more):

#+begin_src bash
dailies extract --limit 10       # extract 10 conversations
dailies extract --all            # extract all
#+end_src

** Browse insights

#+begin_src bash
dailies insights                              # top insights
dailies insights --category wisdom            # filter by type
dailies insights --tag kubernetes             # filter by tag
dailies insights --tag rust --category programming_tip  # combine filters
dailies insights --bottom                     # lowest confidence

dailies insight 123                           # view specific insight
dailies random                                # random insight
dailies random --category product_idea        # random product idea
#+end_src

** Browse tags

#+begin_src bash
dailies tags                     # top tags by usage
dailies tags --limit 100         # more tags
#+end_src

** Browse conversations

#+begin_src bash
dailies deep                     # deepest conversations by message count
dailies conversation 725         # view specific conversation
#+end_src

* Data Storage

- Database: =~/.dailies-analyzer/dailies.db=
- Batch state: =~/.dailies-analyzer/batch_state.json=

* Categories

Insights are extracted into four categories:

- *wisdom* - Hard-won insights, mental models, architectural principles
- *programming_tip* - Code patterns, debugging techniques, tool recommendations
- *product_idea* - Business opportunities, feature ideas, tool ideas
- *question* - Deep questions worth revisiting
